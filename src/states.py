from __future__ import annotations
import os

S_WELCOME = "WELCOME"
S_ASK_NAME = "ASK_NAME"
S_ASK_PHONE = "ASK_PHONE"
S_MENU = "MENU"
S_SETTINGS = "SETTINGS"
S_CHANGE_PHONE = "CHANGE_PHONE"

PRIVACY_URL = (os.getenv("PRIVACY_URL") or "https://example.com/privacy").strip()
CHANNEL_URL  = (os.getenv("CHANNEL_URL")  or "").strip()

def esc(s: str | None) -> str:
    s = s or ""
    return s.replace("&","&amp;").replace("<","&lt;").replace(">","&gt;")

def WELCOME_TEXT() -> str:
    return (
        "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ <b>Colizeum –©—ë–ª–∫–æ–≤—Å–∫–∏–π</b>! üíú\n\n"
        f"–ò—Å–ø–æ–ª—å–∑—É—è —ç—Ç–æ–≥–æ –±–æ—Ç–∞, —Ç—ã —Å–æ–≥–ª–∞—à–∞–µ—à—å—Å—è –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. "
        f"–ü–æ–¥—Ä–æ–±–Ω–µ–µ: <a href=\"{PRIVACY_URL}\">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>.\n\n"
        "–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–æ—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è.\n"
        "–•–æ—Ä–æ—à–µ–π –∏–≥—Ä—ã! üéÆüî•"
    )

ASK_NAME_TEXT = "–ö–∞–∫ —Ç–µ–±—è –∑–æ–≤—É—Ç?\n\n<i>–ú–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –∏–º—è –∏–ª–∏ –Ω–∏–∫, 2‚Äì64 —Å–∏–º–≤–æ–ª–∞.</i>"
ASK_PHONE_TEXT = (
    "–¢–µ–ø–µ—Ä—å –Ω–∞–ø–∏—à–∏ –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤—å –∫–æ–Ω—Ç–∞–∫—Ç —Å –Ω–æ–º–µ—Ä–æ–º —Ç–µ–ª–µ—Ñ–æ–Ω–∞, "
    "–Ω–∞ –∫–æ—Ç–æ—Ä—ã–π —É —Ç–µ–±—è –ø—Ä–∏–≤—è–∑–∞–Ω –∞–∫–∫–∞—É–Ω—Ç –≤ –∫–ª—É–±–µ.\n\n"
    "–ü—Ä–∏–º–µ—Ä—ã: <code>+7 999 123-45-67</code>, <code>89991234567</code>"
)
def REG_OK_TEXT(name: str|None, phone: str|None) -> str:
    return (f"–ì–æ—Ç–æ–≤–æ! ‚úÖ\n\n<b>–ò–º—è:</b> {esc(name)}\n<b>–¢–µ–ª–µ—Ñ–æ–Ω:</b> {esc(phone)}\n\n"
            "–ú–æ–∂–µ—à—å –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –º–µ–Ω—é –Ω–∏–∂–µ.")
MENU_TEXT = "–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"
def SETTINGS_TEXT(name: str|None, phone: str|None) -> str:
    return ("‚öôÔ∏è <b>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</b>\n\n"
            f"<b>–ò–º—è:</b> {esc(name) if name else '‚Äî'}\n"
            f"<b>–¢–µ–ª–µ—Ñ–æ–Ω:</b> {esc(phone) if phone else '‚Äî'}")
CHANGE_PHONE_TEXT = (
    "–í–≤–µ–¥–∏ –Ω–æ–≤—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤—å –∫–æ–Ω—Ç–∞–∫—Ç.\n\n"
    "–ü—Ä–∏–º–µ—Ä—ã: <code>+7 999 123-45-67</code>, <code>89991234567</code>"
)
PLACEHOLDER_TEXT = "–†–∞–∑–¥–µ–ª –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ üöß\n\n–ú—ã —É–∂–µ –≤–∞—Ä–∏–º –∫–æ–¥ –≤ –∫–æ—Ç–ª–µ. –°–æ–≤—Å–µ–º —Å–∫–æ—Ä–æ –∑–¥–µ—Å—å –≤—Å—ë –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç!"
